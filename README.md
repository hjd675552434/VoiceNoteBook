# VoiceNoteBook
一个简单的语音记事本

###完成功能
* 录音及播放
* 播放列表状态管理
* 七牛上传音频
* 首次启动app批量下载云上音频
* 一些其他小细节，比如点击动画、按键时间短做废弃处理等

由于正式接触swift不到一个星期，所以尽量没有用第三方库，只用了swiftyJson和七牛的库。写下来感觉对语法基本熟悉，对map、filter高阶函数也可以手到擒来了，感觉swift潜力无限。为了更突出逻辑，精简代码，我用storyboard做的UI，感觉xcode8的sb比以前好用多了。以后我个人开发可能会倾向swift3.0 + IB。

###有些想说（吐槽）的话
七牛是真的坑啊！明明什么参数都对，就是给我返回错误 让我用up-z2.niu.com 上传。查了很久才知道这是华南大区的上传地址，翻SDK源码发现只有up-z和up-z1两个空间，就知道自己被坑了，在github上下了源码发现12天前更新了一个新地址，但是官方sdk最新版本并没有更新。。于是我重新在华北区新开了个bucket，终于上传成功。

这还不是最坑的，SDK并没有下载功能，翻七牛后端文档才看到有获取bucket文件列表的API。这也没什么，客户端也可以写那些加密算法自己去请求，然而按照文档步骤总是bad token。下了python代码测试，结果官方代码都报错，后来试了go，才确认自己token并没有生成错误。最后我将form直接放在url进行请求才成功。。七牛这两个地方就坑了我很久。

以后有时间慢慢优化吧，因为每过一段时间就会发现自己当时写的代码就像一坨shi，尽管我现在觉得代码质量还说得过去。
